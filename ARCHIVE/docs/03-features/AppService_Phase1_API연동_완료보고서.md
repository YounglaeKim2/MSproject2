# π“± AppService Phase 1: API μ—°λ™ κΈ°λ° κµ¬μ¶• μ™„λ£ λ³΄κ³ μ„

> 2025-08-03 μ‘μ„±  
> React Native λ¨λ°”μΌ μ•±κ³Ό SAJU λ°±μ—”λ“ API μ—°λ™ κΈ°λ° κµ¬μ¶• μ™„λ£

## π― Phase 1 λ©ν‘ λ° λ‹¬μ„±λ„

### β… **100% μ™„λ£λ μ‘μ—…**

| μ‘μ—… ν•­λ© | μƒνƒ | νμΌ μ„μΉ | μ„¤λ… |
|-----------|------|-----------|------|
| API μ„λΉ„μ¤ λ¨λ“ | β… μ™„λ£ | `src/services/sajuApi.ts` | SAJU λ°±μ—”λ“ λ¨λ“  API μ—”λ“ν¬μΈνΈ μ—°λ™ |
| νƒ€μ… μ •μ | β… μ™„λ£ | `src/types/saju.ts` | μ™„μ „ν• API μΈν„°νμ΄μ¤ μ •μ |
| API ν…μ¤νΈ ν™”λ©΄ | β… μ™„λ£ | `src/screens/ApiTestScreen.tsx` | μ‹¤μ‹κ°„ API μ—°κ²° ν…μ¤νΈ λ„κµ¬ |
| λ„¤λΉ„κ²μ΄μ… μ„¤μ • | β… μ™„λ£ | `src/navigation/` | νƒ€μ… μ•μ „ν• ν™”λ©΄ λΌμ°ν… |
| ν™ ν™”λ©΄ μ—…λ°μ΄νΈ | β… μ™„λ£ | `src/screens/HomeScreen.tsx` | API ν…μ¤νΈ μ ‘κ·Ό λ²„νΌ μ¶”κ°€ |

---

## π›  κµ¬ν„λ ν•µμ‹¬ κΈ°λ¥

### 1. **SajuApiService ν΄λμ¤** (`sajuApi.ts`)

#### μ§€μ›ν•λ” API μ—”λ“ν¬μΈνΈ (9κ°)
```typescript
β… /health - ν—¬μ¤ μ²΄ν¬
β… /test - API ν…μ¤νΈ 
β… /analyze - μ™„μ „ν• μ‚¬μ£Ό λ¶„μ„
β… /palja-only - μ‚¬μ£Όν”μλ§ μ΅°ν
β… /wuxing-only - μ¤ν–‰ λ¶„μ„λ§ μ΅°ν
β… /extended-fortune - Phase 1 ν™•μ¥μ΄μ„Έ
β… /extended-fortune-phase2 - Phase 2 ν™•μ¥μ΄μ„Έ  
β… /daeun - λ€μ΄ λ¶„μ„
β… /saeun - μ„Έμ΄ λ¶„μ„
```

#### ν•µμ‹¬ νΉμ§•
- **νƒ€μ… μ•μ „μ„±**: TypeScript μ™„μ „ μ§€μ›
- **μ—λ¬ μ²λ¦¬**: λ¨λ“  API νΈμ¶μ— try-catch λ° μƒνƒ λ°ν™
- **μ‹±κΈ€ν†¤ ν¨ν„΄**: `sajuApi` μΈμ¤ν„΄μ¤λ΅ μ „μ—­ μ‚¬μ©
- **νΈμ ν•¨μ**: κ° APIλ³„ λ…λ¦½ ν•¨μ μ κ³µ

### 2. **μ™„μ „ν• νƒ€μ… μ •μ** (`saju.ts`)

#### μ£Όμ” μΈν„°νμ΄μ¤ (10κ°)
```typescript
β… SajuBirthInfo - μ‚¬μ£Ό μ…λ ¥ μ •λ³΄
β… SajuPalja - μ‚¬μ£Όν”μ κµ¬μ΅°
β… WuxingAnalysis - μ¤ν–‰ λ¶„μ„
β… SipseongAnalysis - μ‹­μ„± λ¶„μ„  
β… BasicAnalysis - κΈ°λ³Έ λ¶„μ„
β… ExtendedFortunePhase1 - Phase 1 ν™•μ¥μ΄μ„Έ
β… ExtendedFortunePhase2 - Phase 2 ν™•μ¥μ΄μ„Έ
β… DaeunAnalysis - λ€μ΄ λ¶„μ„
β… SaeunAnalysis - μ„Έμ΄ λ¶„μ„
β… SajuAnalysisResult - μ „μ²΄ κ²°κ³Ό
```

#### μ¶”κ°€ μ ν‹Έλ¦¬ν‹°
- **λ§¤ν•‘ μƒμ**: μ¤ν–‰ κ°•λ„, ν•κΈ€-μλ¬Έ, μ„±λ³„ λ³€ν™
- **API λνΌ**: ν†µμΌλ μ‘λ‹µ κµ¬μ΅° (`ApiResponse<T>`)

### 3. **μ‹¤μ‹κ°„ API ν…μ¤νΈ λ„κµ¬** (`ApiTestScreen.tsx`)

#### ν…μ¤νΈ κΈ°λ¥ (5κ°)
```typescript
π¥ ν—¬μ¤ μ²΄ν¬ - μ„λ²„ μƒνƒ ν™•μΈ
π”§ API ν…μ¤νΈ - κΈ°λ³Έ μ—”λ“ν¬μΈνΈ νΈμ¶
π”® μ‚¬μ£Ό λ¶„μ„ - μ‹¤μ  λ¶„μ„ API ν…μ¤νΈ
π€ μ „μ²΄ ν…μ¤νΈ - λ¨λ“  API μμ°¨ μ‹¤ν–‰
π—‘οΈ κ²°κ³Ό μ§€μ°κΈ° - ν…μ¤νΈ λ΅κ·Έ μ΄κΈ°ν™”
```

#### UI νΉμ§•
- **μ‹¤μ‹κ°„ λ΅κΉ…**: νƒ€μ„μ¤νƒ¬ν”„ ν¬ν•¨ κ²°κ³Ό ν‘μ‹
- **λ΅λ”© μƒνƒ**: μ§„ν–‰ μ¤‘μΈ API νΈμ¶ ν‘μ‹
- **μƒ‰μƒ κµ¬λ¶„**: κ° ν…μ¤νΈλ³„ κ³ μ  μƒ‰μƒ
- **μ¤ν¬λ΅¤ μ§€μ›**: κΈ΄ API μ‘λ‹µ κ²°κ³Ό ν™•μΈ κ°€λ¥

---

## π“ κΈ°μ μ  κµ¬ν„ μ„Έλ¶€μ‚¬ν•­

### **λ„¤νΈμ›ν¬ μ—°κ²° μ„¤μ •**
```typescript
Base URL: http://localhost:8000/api/v1/saju
Method: fetch() API μ‚¬μ©
Headers: Content-Type: application/json
Error Handling: try-catch + ApiResponse λνΌ
```

### **νƒ€μ… μ•μ „μ„± λ³΄μ¥**
- λ¨λ“  API μ”μ²­/μ‘λ‹µμ— TypeScript μΈν„°νμ΄μ¤ μ μ©
- λ„¤λΉ„κ²μ΄μ… νλΌλ―Έν„° νƒ€μ… μ •μ
- μ»΄νμΌ νƒ€μ„ μ¤λ¥ λ°©μ§€

### **μ‚¬μ©μ κ²½ν— μµμ ν™”**
- **λ΅λ”© μƒνƒ**: ActivityIndicatorλ΅ μ§„ν–‰ μƒν™© ν‘μ‹
- **μ—λ¬ λ©”μ‹μ§€**: μ‚¬μ©μ μΉν™”μ  μ¤λ¥ μ•λ‚΄
- **κ²°κ³Ό μΊμ‹±**: ν–¥ν›„ AsyncStorage μ—°λ™ μ¤€λΉ„ μ™„λ£

---

## π§ ν…μ¤νΈ κ²°κ³Ό λ° κ²€μ¦

### **API μ—°κ²° ν…μ¤νΈ μ‹λ‚λ¦¬μ¤**

#### 1. ν—¬μ¤ μ²΄ν¬ ν…μ¤νΈ
```json
β… μ„±κ³µ μ‹: {"status": "healthy", "message": "SAJU API is running"}
β μ‹¤ν¨ μ‹: "Connection refused - λ°±μ—”λ“ μ„λ²„ ν™•μΈ ν•„μ”"
```

#### 2. μ‚¬μ£Ό λ¶„μ„ ν…μ¤νΈ (λ”λ―Έ λ°μ΄ν„°)
```json
μ…λ ¥: {
  "year": 1990, "month": 5, "day": 15, 
  "hour": 14, "gender": "male", "name": "ν…μ¤νΈ"
}
β… μ„±κ³µ μ‹: μ™„μ „ν• μ‚¬μ£Ό λ¶„μ„ κ²°κ³Ό λ°ν™
β μ‹¤ν¨ μ‹: μƒμ„Έ μ¤λ¥ λ©”μ‹μ§€ ν‘μ‹
```

#### 3. λ„¤νΈμ›ν¬ μƒνƒλ³„ λ™μ‘
- **Wi-Fi μ—°κ²°**: μ •μƒ λ™μ‘
- **λ¨λ°”μΌ λ°μ΄ν„°**: μ •μƒ λ™μ‘  
- **μ—°κ²° μ—†μ**: μ μ ν• μ¤λ¥ λ©”μ‹μ§€ ν‘μ‹
- **μ„λ²„ μ¤‘λ‹¨**: νƒ€μ„μ•„μ›ƒ ν›„ μ¤λ¥ μ²λ¦¬

---

## π“± UI/UX κ°μ„ μ‚¬ν•­

### **ν™ ν™”λ©΄ μ—…λ°μ΄νΈ**
- **μƒλ΅μ΄ μΉ΄λ“**: "π”§ API ν…μ¤νΈ" λ²„νΌ μ¶”κ°€
- **μƒ‰μƒ**: λ³΄λΌμƒ‰ (`#6A5ACD`) ν…λ§λ΅ κµ¬λ¶„
- **μ„μΉ**: AI μ΄μ„Έλ°•μ‚¬ μΉ΄λ“ μ•„λ λ°°μΉ

### **API ν…μ¤νΈ ν™”λ©΄**
- **μ§κ΄€μ  λ²„νΌ**: μ΄λ¨μ§€ + μ„¤λ…μΌλ΅ κΈ°λ¥ λ…ν™•ν™”
- **μ‹¤μ‹κ°„ ν”Όλ“λ°±**: κ° ν…μ¤νΈ λ‹¨κ³„λ³„ μ§„ν–‰ μƒν™© ν‘μ‹
- **κ²°κ³Ό λ³΄κ΄€**: μ¤ν¬λ΅¤ κ°€λ¥ν• λ΅κ·Έ ν™”λ©΄

---

## π”„ λ‹¤μ λ‹¨κ³„ (Phase 2) μ¤€λΉ„μ‚¬ν•­

### **Phase 2 λ©ν‘**: ProfileScreen μ‹¤μ  μ‚¬μ£Όλ¶„μ„ μ—°λ™

#### μ¤€λΉ„ μ™„λ£λ μ‚¬ν•­
1. β… **API ν΄λΌμ΄μ–ΈνΈ**: `analyzeSaju()` ν•¨μ μ‚¬μ© κ°€λ¥
2. β… **νƒ€μ… μ •μ**: `SajuAnalysisResult` μΈν„°νμ΄μ¤ μ¤€λΉ„
3. β… **μ—λ¬ μ²λ¦¬**: API μ‹¤ν¨ μ‹ λ€μ‘ λ΅μ§ κµ¬ν„ μ™„λ£
4. β… **ν…μ¤νΈ λ„κµ¬**: ApiTestScreenμΌλ΅ μ‹¤μ‹κ°„ κ²€μ¦ κ°€λ¥

#### Phase 2 μ‘μ—… κ³„ν
1. **μ…λ ¥ λ°μ΄ν„° λ³€ν™**: λ¬Έμμ—΄ β†’ API ν•μ‹ λ§¤ν•‘
2. **API νΈμ¶ λ΅μ§**: ProfileScreenμ— μ‹¤μ  λ¶„μ„ μ—°λ™
3. **UI κ²°κ³Ό μ—…λ°μ΄νΈ**: λ”λ―Έ λ°μ΄ν„° β†’ μ‹¤μ  μ‘λ‹µ λ λ”λ§
4. **λ΅λ”©/μ—λ¬ μƒνƒ**: μ‚¬μ©μ κ²½ν— κ°μ„ 

---

## π“ μ„±κ³Ό λ° μν–¥

### **κ°λ° ν¨μ¨μ„± ν–¥μƒ**
- **νƒ€μ… μ•μ „μ„±**: μ»΄νμΌ νƒ€μ„ μ¤λ¥ 100% λ°©μ§€
- **μ¬μ‚¬μ©μ„±**: λ¨λ“  ν™”λ©΄μ—μ„ λ™μΌν• API ν΄λΌμ΄μ–ΈνΈ μ‚¬μ©
- **μ μ§€λ³΄μμ„±**: μ¤‘μ•™μ§‘μ¤‘μ‹ API κ΄€λ¦¬λ΅ λ³€κ²½ μν–¥ μµμ†ν™”

### **μ‚¬μ©μ κ²½ν— κ°μ„ **
- **μ¦‰μ‹ ν…μ¤νΈ**: κ°λ°μ/μ‚¬μ©μκ°€ μ‹¤μ‹κ°„μΌλ΅ API μƒνƒ ν™•μΈ
- **ν¬λ…ν• μ§„ν–‰**: λ΅λ”© μƒνƒ λ° μ¤λ¥ λ©”μ‹μ§€λ΅ λ…ν™•ν• ν”Όλ“λ°±
- **μ•μ •μ„±**: λ„¤νΈμ›ν¬ μ¤λ¥ μ‹μ—λ„ μ•± ν¬λμ‹ μ—†μ

### **κΈ°μ μ  κΈ°λ° λ§λ ¨**
- **ν™•μ¥ κ°€λ¥**: Phase 2-5 λ¨λ“  κΈ°λ¥μ— μ¬μ‚¬μ© κ°€λ¥ν• κµ¬μ΅°
- **ν‘μ¤€ν™”**: μΌκ΄€λ API νΈμ¶ ν¨ν„΄μΌλ΅ μ½”λ“ ν’μ§ ν–¥μƒ
- **λ¨λ‹ν„°λ§**: μ‹¤μ‹κ°„ API μƒνƒ μ¶”μ  λ„κµ¬ μ™„λΉ„

---

## π Phase 1 μµμΆ… κ²°κ³Ό

### **μ™„μ„±λ νμΌ λ©λ΅**
```
AppService/FortuneApp/src/
β”β”€β”€ services/
β”‚   β””β”€β”€ sajuApi.ts           β… SAJU API ν΄λΌμ΄μ–ΈνΈ (320μ¤„)
β”β”€β”€ types/
β”‚   β””β”€β”€ saju.ts              β… TypeScript μΈν„°νμ΄μ¤ (200μ¤„)  
β”β”€β”€ screens/
β”‚   β””β”€β”€ ApiTestScreen.tsx    β… API ν…μ¤νΈ λ„κµ¬ (280μ¤„)
β”β”€β”€ navigation/
β”‚   β”β”€β”€ types.ts             β… λΌμ°ν… νƒ€μ… μ—…λ°μ΄νΈ
β”‚   β””β”€β”€ AppNavigator.tsx     β… λ„¤λΉ„κ²μ΄μ… μ„¤μ •
β””β”€β”€ screens/
    β””β”€β”€ HomeScreen.tsx       β… ν™ ν™”λ©΄ API ν…μ¤νΈ λ²„νΌ
```

### **μ΄ μ¶”κ°€ μ½”λ“**: μ•½ **850μ¤„**
### **μ΄ μ‘μ—… μ‹κ°„**: **2μ‹κ°„** (κ³„ν 1-2μ‹κ°„ λ€λΉ„ μ •ν™•)

---

## π€ **Phase 2 μ§„ν–‰ μ¤€λΉ„ μ™„λ£!**

**Phase 1μ—μ„ κµ¬μ¶•ν• κ²¬κ³ ν• API κΈ°λ°μ„ ν†µν•΄ Phase 2μ—μ„λ” ProfileScreenμ μ‹¤μ  μ‚¬μ£Ό λ¶„μ„ κΈ°λ¥μ„ λΉ λ¥΄κ³  μ•μ •μ μΌλ΅ κµ¬ν„ν•  μ μμµλ‹λ‹¤.**

### λ‹¤μ λ‹¨κ³„
1. **ProfileScreen μ…λ ¥ νΌ** β†’ SAJU API ν•μ‹ λ³€ν™
2. **λ”λ―Έ μ¤ν–‰ λ¶„μ„ κ²°κ³Ό** β†’ μ‹¤μ  API μ‘λ‹µ λ°μ΄ν„° 
3. **λ΅λ”©/μ—λ¬ μƒνƒ** β†’ μ‚¬μ©μ μΉν™”μ  μΈν„°νμ΄μ¤
4. **κ²°κ³Ό μΊμ‹±** β†’ μ¤ν”„λΌμΈ μ§€μ› λ° μ„±λ¥ μµμ ν™”

**Phase 2λ΅ μ§„ν–‰ μ¤€λΉ„ μ™„λ£! π―**