# MSproject2 - 전문 사주팔자 분석 웹 서비스

한국 전통 명리학과 현대 웹 기술의 완벽한 결합으로 탄생한 **전문적인 사주 분석 서비스**입니다.

## 🎯 프로젝트 개요

이 프로젝트는 전통 명리학을 현대 웹 기술과 결합하여 사용자에게 정확하고 체계적인 사주 분석 서비스를 제공합니다.

### 🆕 주요 특징 (2025년 7월 대대적 업그레이드)

- ✅ **정확한 만세력 계산**: 1900-2100년 73,442개 레코드 기반
- ✅ **전문적인 해석 로직**: 오행, 십성, 신살 등 종합 분석
- 🆕 **13개 확장 분석 메서드**: 과학적 균형도 측정 및 성격 유형 분석
- 🆕 **오행 균형 점수**: 0-100점 정밀 측정 시스템
- 🆕 **5가지 성격 유형**: 오행균형형, 목강형, 화강형, 토강형, 금강형, 수강형
- 🆕 **맞춤형 조언 시스템**: 색상, 방향, 생활습관, 직업, 건강, 인간관계
- 🆕 **현대적인 UI/UX**: styled-components 기반 반응형 디자인
- ✅ **RESTful API**: FastAPI 기반 고성능 백엔드 (구조화된 응답)

## 📁 프로젝트 구조

```
MSproject2/
├── main-app/                   # 메인 랜딩 페이지 (포트: 4000)
│   ├── frontend/              # 서비스 선택 화면
│   └── package.json
├── SAJU/                      # 사주팔자 서비스 (완전 독립)
│   ├── backend/               # FastAPI 백엔드 (포트: 8000)
│   ├── frontend/              # React 프론트엔드 (포트: 3000)
│   ├── manseryukDB/           # 만세력 데이터베이스
│   ├── 사주해석로직.txt        # 명리학 해석 로직 문서
│   ├── docker-compose.yml     # Docker 설정
│   └── README.md              # 사주 서비스 가이드
├── Physiognomy/               # 관상 분석 서비스 (완전 독립)
│   ├── backend/               # FastAPI 백엔드 (포트: 8001)
│   ├── frontend/              # React 프론트엔드 (포트: 3001)
│   ├── models/                # AI 모델
│   ├── datasets/              # 학습 데이터
│   ├── docker-compose.yml     # Docker 설정
│   └── README.md              # 관상 서비스 가이드
├── CLAUDE.md                  # Claude Code용 개발 가이드
└── README.md                  # 프로젝트 전체 가이드
```

## 🚀 설치 및 실행 가이드

> **💡 처음 실행하시는 분들을 위한 완전한 가이드입니다.**

### 📋 사전 요구사항

아래 프로그램들이 설치되어 있어야 합니다:

- **Python 3.8 이상** ([다운로드](https://www.python.org/downloads/))
- **Node.js 14 이상** ([다운로드](https://nodejs.org/))
- **Git** ([다운로드](https://git-scm.com/))

### 💻 프로젝트 다운로드

```bash
# 저장소 복제
git clone https://github.com/YounglaeKim2/MSproject2.git
cd MSproject2
```

### 🏃‍♀️ 서비스 실행 (단계별 가이드)

#### 1️⃣ 메인 랜딩 페이지 실행

```bash
# 프로젝트 루트에서
cd main-app
npm install           # 처음 한 번만 실행
npm start            # 서비스 시작
```

✅ **확인**: http://localhost:4000 접속하여 서비스 선택 화면 확인

#### 2️⃣ 사주 서비스 실행

**백엔드 서버 실행 (첫 번째 터미널):**

```bash
# 프로젝트 루트에서
cd SAJU/backend
pip install -r requirements.txt    # 처음 한 번만 실행
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

✅ **확인**: http://localhost:8000/docs 에서 API 문서 확인

**프론트엔드 서버 실행 (두 번째 터미널):**

```bash
# 프로젝트 루트에서
cd SAJU/frontend
npm install          # 처음 한 번만 실행
npm start           # 서비스 시작
```

✅ **확인**: http://localhost:3000 접속하여 **🆕 확장된 사주 분석 서비스** 이용

#### 3️⃣ 관상 서비스 실행 (선택사항)

**백엔드 서버 실행:**

```bash
cd Physiognomy/backend
pip install -r requirements.txt
uvicorn app.main:app --reload --host 0.0.0.0 --port 8001
```

**프론트엔드 서버 실행:**

```bash
cd Physiognomy/frontend
npm install
npm start
```

### 🔄 Docker를 이용한 실행 (고급 사용자용)

```bash
# 사주 서비스
cd SAJU
docker-compose up -d

# 관상 서비스
cd Physiognomy
docker-compose up -d
```

### 🆘 문제 해결

#### Python 관련 오류

```bash
# Windows에서 Python 명령어가 인식되지 않는 경우
python -m pip install -r requirements.txt
python -m uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

#### Node.js 관련 오류

```bash
# npm 캐시 정리
npm cache clean --force
npm install
```

#### 포트 충돌 오류

- 기본 포트가 사용중인 경우 아래 포트들로 변경:
  - 메인: 4001, 사주: 3002/8002, 관상: 3003/8003

## 🌐 현재 서비스 상태 (2025-07-28 업그레이드 완료)

### 접속 URL 및 상태

| 서비스          | URL                        | 상태        | 기능                  |
| --------------- | -------------------------- | ----------- | --------------------- |
| **메인 페이지** | http://localhost:4000      | ✅ 운영중   | 서비스 선택           |
| **사주 서비스** | http://localhost:3000      | ✅ 운영중   | **🆕 확장 분석 UI**   |
| **사주 API**    | http://localhost:8000      | ✅ 운영중   | **🆕 확장 분석 API**  |
| **API 문서**    | http://localhost:8000/docs | ✅ 접근가능 | Swagger UI            |
| **관상 서비스** | http://localhost:3001      | 📋 개발중   | AI 관상 분석 (준비중) |

### 🆕 새로 추가된 주요 기능

#### 📊 **확장 오행 분석 시스템**

- **균형 점수**: 0-100점 과학적 측정 (예: 89.6점)
- **성격 유형**: 오행 기반 6가지 유형 분류
- **강점/약점**: 개인별 특성 상세 분석

#### 🎯 **맞춤형 조언 시스템**

- **🎨 추천 색상**: 개인 오행에 맞는 컬러 팔레트
- **🧭 유리한 방향**: 방위별 길흉 가이드
- **🏃‍♀️ 생활습관**: 건강한 라이프스타일 조언
- **💼 직업 추천**: 적성에 맞는 직업군 제시
- **💊 건강 관리**: 체질별 건강 관리법
- **💑 인간관계**: 대인관계 개선 전략

#### 🎨 **현대적 UI/UX**

- **styled-components**: 전문적인 컴포넌트 시스템
- **반응형 디자인**: 모바일/데스크톱 최적화
- **시각적 정보 표시**: 직관적이고 아름다운 분석 결과
- **사주 API 문서**: http://localhost:8000/docs
- **관상 API 문서**: http://localhost:8001/docs

## 🔧 기술 스택

### 백엔드

- **FastAPI**: 고성능 Python 웹 프레임워크
- **Pydantic**: 데이터 검증 및 설정 관리
- **SQLite**: 만세력 데이터베이스
- **Uvicorn**: ASGI 서버

### 프론트엔드

- **React 18**: 사용자 인터페이스 라이브러리
- **TypeScript**: 타입 안전성
- **Styled Components**: CSS-in-JS 스타일링
- **Axios**: HTTP 클라이언트

## 📊 주요 기능

### 사주팔자 분석

- 정확한 년월일시 기반 사주팔자 추출
- 절기 기준 월주 계산
- 시주 정밀 계산

### 오행 분석 (2025.07.28 확장 업데이트)

#### 🎯 기본 오행 분석

- 사주 내 오행 분포 계산 (목, 화, 토, 금, 수)
- 일간 강약 판단
- 용신/기신 도출

#### 🔍 확장 오행 분석

- **상세 강도 계산**: 각 오행별 개수, 백분율, 강도 레벨
- **균형도 점수**: 0-100점 오행 균형 평가
- **과다/부족 오행**: 과도하거나 부족한 오행 식별
- **주도적 오행**: 가장 강한/약한 오행 파악

#### 🧠 성격 분석

- **성격 유형 판단**: 오행 분포 기반 5가지 유형
  - 성장형 (목): 창의적, 성장지향적
  - 열정형 (화): 활력적, 표현력 풍부
  - 안정형 (토): 신뢰성, 포용력
  - 완벽형 (금): 원칙성, 결단력
  - 지혜형 (수): 깊이, 적응력
- **강점/약점 분석**: 개인별 장단점 도출
- **맞춤형 조언**: 성격에 따른 실용적 가이드

#### 💡 맞춤형 추천 시스템 (2025.07.28 대폭 확장)

##### 🎨 라이프스타일 추천

- **색상 가이드**: 도움이 되는 색상 추천
- **방향 풍수**: 각 오행별 최적 방위
- **생활습관**: 유리한 방향, 시간대, 환경 조언

##### 🍽️ 건강 & 웰빙

- **음식 조언**: 오행별 적합한 음식 추천
- **건강 관리**: 개인별 건강 유지 방법
- **활동 가이드**: 오행을 보강하는 활동 제안

##### 💼 커리어 & 관계

- **직업 조언**: 오행 특성에 맞는 업무 분야
- **인간관계**: 대인관계 개선 방법
- **성장 방향**: 개인 발전을 위한 구체적 조언

### 종합 해석

- **성격 분석**: 기본 성향, 장단점, 개선 방향
- **직업운**: 적성 분야, 성향, 성공 요인
- **건강운**: 강약 장기, 주의사항, 관리법
- **대인관계**: 관계 스타일, 궁합, 사회성
- **재물운**: 재물 성향, 수입 패턴, 투자 조언

## 📱 화면 구성

### 메인 화면

- 출생 정보 입력 폼
- 년/월/일/시/성별 선택
- 실시간 유효성 검사

### 결과 화면

- 사주팔자 시각적 표현
- 오행 분포 차트
- 카테고리별 상세 분석
- 반응형 레이아웃

## 🔗 API 엔드포인트

### 주요 API

- `POST /api/v1/saju/analyze` - 완전한 사주 분석
- `GET /api/v1/saju/palja-only` - 사주팔자만 추출
- `GET /api/v1/saju/wuxing-only` - 오행 분석만
- `GET /api/v1/saju/test` - API 테스트
- `GET /health` - 헬스 체크

### 예시 요청

```json
{
  "year": 1990,
  "month": 5,
  "day": 15,
  "hour": 14,
  "gender": "male",
  "name": "홍길동"
}
```

## 📚 참고 자료

### 명리학 이론

- 고영창님의 "진짜 만세력" 기반 데이터
- 전통 명리학 해석 로직
- 음양오행 상생상극 이론

### 기술 문서

- [FastAPI 공식 문서](https://fastapi.tiangolo.com/)
- [React 공식 문서](https://react.dev/)
- [TypeScript 핸드북](https://www.typescriptlang.org/docs/)

## 🎊 프로젝트 현황

### ✅ 완성된 서비스

- **메인 랜딩 페이지** (포트: 4000) - 서비스 선택 UI 완성
- **SAJU 서비스** (포트: 8000/3000) - 사주팔자 분석 서비스 완성
  - 73,442개 만세력 레코드 기반 정확한 계산
  - 전통 명리학 해석 로직 구현
  - REST API 및 웹 UI 완성

### 📋 개발 대기 서비스

- **Physiognomy 서비스** (포트: 8001/3001) - AI 기반 관상 분석 (개발 환경 준비 완료)

## 🔮 향후 계획

### Phase 2 - 관상 서비스

- 얼굴 인식 기반 관상 분석
- AI 모델 통합
- 사주와 관상 종합 해석

### Phase 3 - 고도화

- 대운/세운 분석
- 궁합 서비스
- 개인화 추천 시스템

## 🤝 기여하기

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## 📄 라이센스

이 프로젝트는 개인 학습 및 연구 목적으로 개발되었습니다.

## 📞 문의

프로젝트 관련 문의사항이 있으시면 GitHub Issues를 통해 연락해 주세요.

---

## 🎉 최신 업데이트 (2025.07.28)

### ✨ 확장 분석 시스템 완성

- **13개 신규 분석 메서드**: 과학적이고 체계적인 오행 분석
- **균형 점수 시스템**: 0-100점 정밀 측정
- **5가지 성격 유형**: 오행 분포 기반 성격 분석
- **8가지 추천 카테고리**: 색상, 방향, 음식, 활동, 직업, 건강, 관계, 라이프스타일

### 🎨 UI/UX 완전 리뉴얼

- **styled-components 도입**: 전문적인 디자인 시스템
- **반응형 디자인**: 모든 디바이스 최적화
- **직관적 인터페이스**: 사용자 경험 대폭 개선

### 🔧 기술적 향상

- **모듈화된 아키텍처**: 확장 가능한 분석 엔진
- **최적화된 API**: 빠른 응답 속도
- **완벽한 타입 안전성**: TypeScript 전면 적용

### 🏆 서비스 품질

- **정확성**: 전통 명리학 기반 정밀 분석
- **사용성**: 초보자도 쉽게 이용 가능
- **확장성**: 추가 기능 개발 준비 완료

**현재 모든 서비스가 정상 동작 중이며, 즉시 이용 가능합니다!**

📊 **서비스 접속 주소**:

- 메인: http://localhost:4000
- 사주 분석: http://localhost:3000
- API 문서: http://localhost:8000/docs

---

**⚠️ 주의사항**: 이 서비스는 참고용이며, 중요한 결정은 전문가와 상담하시기 바랍니다.
